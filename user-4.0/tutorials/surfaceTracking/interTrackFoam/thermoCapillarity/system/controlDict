/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     4.0                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    object      controlDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

applicationClass    interTrackFoamUser;

startFrom           latestTime;

startTime           0;

stopAt              endTime;

endTime             3600.0;

deltaT              0.01;

adjustTimeStep      yes;

maxCo               1;

maxDeltaT           0.1;

writeControl        adjustableRunTime;

writeInterval       0.1;

cycleWrite          0;

writeFormat         binary;

timeFormat          general;

timePrecision       6;

runTimeModifiable   yes;

functions
{
    compute_deltaU
    {
        type              expressionField;

        enabled           true;

        outputControl     timeStep;

        outputInterval    1;

        autowrite         true;

        verbose           true;

        fieldName         deltaU;

        expression        "U-U0";

        dimension         [0 1 -1 0 0 0 0];
    }

    compute_magU
    {
        type              expressionField;

        enabled           true;

        outputControl     timeStep;

        outputInterval    1;

        autowrite         false;

        verbose           true;

        fieldName         magU;

        expression        "mag(U)";

        dimension         [0 1 -1 0 0 0 0];
    }

    compute_vorticity
    {
        type              expressionField;

        enabled           true;

        outputControl     timeStep;

        outputInterval    1;

        autowrite         true;

        verbose           true;

        fieldName         curlU;

        expression        "curl(U)";

        dimension         [0 0 -1 0 0 0 0];
    }

    compute_deltac
    {
        type              expressionField;

        enabled           true;

        outputControl     timeStep;

        outputInterval    1;

        autowrite         true;

        verbose           true;

        fieldName         deltac;

        expression        "c-(25.4e+3/500*(pos().y-0.004))";

        dimension         [0 -3 0 0 1 0 0];
    }

    trackedSurface
    {
        type              patchAverage;

        enabled           true;

        outputControlMode outputTime;

        verbose           true;

        patches
        (
            trackedSurface
        );

        fields
        (
            c
            magU
        );
    }

    infinity
    {
        type              patchAverage;

        enabled           true;

        outputControlMode outputTime;

        verbose           true;

        patches
        (
            top
            bottom
            right
        );

        fields
        (
            c
            magU
        );
    }
}

libs (
    "libgroovyBC.so"
    "libsimpleSwakFunctionObjects.so"
    "libswakFunctionObjects.so"
    "libswakTopoSources.so"
) ;

// ************************************************************************* //

